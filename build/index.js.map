{"version":3,"sources":["../src/index.js"],"names":["MainClass","main","host","stopServer","stop","then","console","log","process","exit","hostConfiguration","configuration","getHostConfiguration","portNumber","serverPort","CustomerServiceHost","start","on","error","JSON","stringify"],"mappings":";;AAAA;;AACA;;AAEA,MAAMA,SAAN,CAAgB;AACZ,eAAaC,IAAb,GAAoB;AAChB,QAAIC,IAAJ;;AAEA,UAAMC,UAAU,GAAG,MAAM;AACrB,UAAID,IAAJ,EAAU;AACNA,QAAAA,IAAI,CAACE,IAAL,GACKC,IADL,CACU,MAAM;AACRC,UAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACAC,UAAAA,OAAO,CAACC,IAAR;AACH,SAJL;AAKH;AACJ,KARD;;AAUA,QAAI;AACA,YAAMC,iBAAiB,GAAGC,sBAAcC,oBAAd,EAA1B;;AACA,YAAMC,UAAU,GAAGH,iBAAiB,CAACI,UAArC;AAEAZ,MAAAA,IAAI,GAAG,IAAIa,wCAAJ,CAAwBF,UAAxB,CAAP;AACA,YAAMX,IAAI,CAACc,KAAL,EAAN;AAEAV,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AAEAC,MAAAA,OAAO,CAACS,EAAR,CAAW,MAAX,EAAmBd,UAAnB;AACAK,MAAAA,OAAO,CAACS,EAAR,CAAW,QAAX,EAAqBd,UAArB;AACAK,MAAAA,OAAO,CAACS,EAAR,CAAW,SAAX,EAAsBd,UAAtB;AACH,KAZD,CAYE,OAAOe,KAAP,EAAc;AACZZ,MAAAA,OAAO,CAACY,KAAR,CAAe,6BAA4BC,IAAI,CAACC,SAAL,CAAeF,KAAf,CAAsB,EAAjE;AACH;AACJ;;AA7BW;;AAgChBlB,SAAS,CAACC,IAAV","sourcesContent":["import { configuration } from \"./config\";\r\nimport { CustomerServiceHost } from \"./hosting/customer-service-host\";\r\n\r\nclass MainClass {\r\n    static async main() {\r\n        let host;\r\n\r\n        const stopServer = () => {\r\n            if (host) {\r\n                host.stop()\r\n                    .then(() => {\r\n                        console.log('Host Stopped Successfully!');\r\n                        process.exit();\r\n                    });\r\n            }\r\n        };\r\n\r\n        try {\r\n            const hostConfiguration = configuration.getHostConfiguration();\r\n            const portNumber = hostConfiguration.serverPort;\r\n\r\n            host = new CustomerServiceHost(portNumber);\r\n            await host.start();\r\n\r\n            console.log('Host Started Successfully!');\r\n\r\n            process.on('exit', stopServer);\r\n            process.on('SIGINT', stopServer);\r\n            process.on('SIGTERM', stopServer);\r\n        } catch (error) {\r\n            console.error(`Error Occurred, Details : ${JSON.stringify(error)}`);\r\n        }\r\n    }\r\n}\r\n\r\nMainClass.main();\r\n"],"file":"index.js"}