{"version":3,"sources":["../../src/config/global-configuration.js"],"names":["MIN_POOL","MAX_POOL","DEFAULT_PORT","GlobalConfiguration","constructor","dbServerName","process","env","DB_SERVER","dbName","DB_NAME","userName","DB_USER","serverPort","SERVER_PORT","encodedPassword","DB_PASSWORD","buffer","Buffer","from","password","toString","getDbConfiguration","dbConfig","user","server","database","encrypt","pool","min","max","idleTimeoutMillis","getHostConfiguration","configuration"],"mappings":";;;;;AAAA,MAAMA,QAAQ,GAAG,CAAjB;AACA,MAAMC,QAAQ,GAAG,GAAjB;AACA,MAAMC,YAAY,GAAG,IAArB;;AAEA,MAAMC,mBAAN,CAA0B;AACtBC,EAAAA,WAAW,GAAG;AACV,SAAKC,YAAL,GAAoBC,OAAO,CAACC,GAAR,CAAYC,SAAhC;AACA,SAAKC,MAAL,GAAcH,OAAO,CAACC,GAAR,CAAYG,OAA1B;AACA,SAAKC,QAAL,GAAgBL,OAAO,CAACC,GAAR,CAAYK,OAA5B;AACA,SAAKC,UAAL,GAAkBP,OAAO,CAACC,GAAR,CAAYO,WAAZ,IAA2BZ,YAA7C;AAEA,UAAMa,eAAe,GAAGT,OAAO,CAACC,GAAR,CAAYS,WAApC;AACA,UAAMC,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYJ,eAAZ,EAA6B,QAA7B,CAAf;AAEA,SAAKK,QAAL,GAAgBH,MAAM,CAACI,QAAP,CAAgB,OAAhB,CAAhB;AACH;;AAEDC,EAAAA,kBAAkB,GAAG;AACjB,UAAMC,QAAQ,GAAG;AACbC,MAAAA,IAAI,EAAE,KAAKb,QADE;AAEbS,MAAAA,QAAQ,EAAE,KAAKA,QAFF;AAGbK,MAAAA,MAAM,EAAE,KAAKpB,YAHA;AAIbqB,MAAAA,QAAQ,EAAE,KAAKjB,MAJF;AAKbkB,MAAAA,OAAO,EAAE,IALI;AAMbC,MAAAA,IAAI,EAAE;AACFC,QAAAA,GAAG,EAAE7B,QADH;AAEF8B,QAAAA,GAAG,EAAE7B,QAFH;AAGF8B,QAAAA,iBAAiB,EAAE;AAHjB;AANO,KAAjB;AAaA,WAAOR,QAAP;AACH;;AAEDS,EAAAA,oBAAoB,GAAG;AACnB,WAAO;AACHnB,MAAAA,UAAU,EAAE,KAAKA;AADd,KAAP;AAGH;;AAlCqB;;AAqC1B,MAAMoB,aAAa,GAAG,IAAI9B,mBAAJ,EAAtB;QAGI8B,a,GAAAA,a","sourcesContent":["const MIN_POOL = 1;\r\nconst MAX_POOL = 600;\r\nconst DEFAULT_PORT = 9090;\r\n\r\nclass GlobalConfiguration {\r\n    constructor() {\r\n        this.dbServerName = process.env.DB_SERVER;\r\n        this.dbName = process.env.DB_NAME;\r\n        this.userName = process.env.DB_USER;\r\n        this.serverPort = process.env.SERVER_PORT || DEFAULT_PORT;\r\n\r\n        const encodedPassword = process.env.DB_PASSWORD;\r\n        const buffer = Buffer.from(encodedPassword, 'base64');\r\n\r\n        this.password = buffer.toString('ascii');\r\n    }\r\n\r\n    getDbConfiguration() {\r\n        const dbConfig = {\r\n            user: this.userName,\r\n            password: this.password,\r\n            server: this.dbServerName,\r\n            database: this.dbName,\r\n            encrypt: true,\r\n            pool: {\r\n                min: MIN_POOL,\r\n                max: MAX_POOL,\r\n                idleTimeoutMillis: 3000\r\n            }\r\n        };\r\n\r\n        return dbConfig;\r\n    }\r\n\r\n    getHostConfiguration() {\r\n        return {\r\n            serverPort: this.serverPort\r\n        };\r\n    }\r\n}\r\n\r\nconst configuration = new GlobalConfiguration();\r\n\r\nexport {\r\n    configuration\r\n};\r\n"],"file":"global-configuration.js"}